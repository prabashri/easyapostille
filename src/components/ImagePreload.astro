---
interface PreloadItem {
  src: string;
  media?: string;
}
interface Props {
  images: PreloadItem[];
}
const { images = [] } = Astro.props;

const uniqueImages = Array.from(
  new Map(images.map(i => [i.src + (i.media ?? ''), i])).values()
);
---

{uniqueImages.map(({ src, media }) => (
  <link rel="preload" as="image" href={src} fetchpriority="high" {...(media ? { media } : {})} />
))}
