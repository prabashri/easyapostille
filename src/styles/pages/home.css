 /* colors respect light/dark; tweak if needed */
 .post-header{
	background-color: var(--primary-darker);
    background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 800"><g fill="none" stroke="%230089b331"><path d="m769 229 268 31.9M927 880 731 737l-211-77-211-122-269 61 255 165-168.5 115.5L40 599l-237-106 299-111-133-153L126.5 79.5-69-63"/><path d="m-31 229 268 32 153 121 213 111-294.5 44.5-207-156M370 905l-75-141"/><path d="m520 660 58 182 153-105 109-138-237-106-83 167-225 104 14-226 81-156 149-113 230-40L577.5 41.5 370 105 295-36 126.5 79.5 237 261 102 382 40 599-69 737l196 143"/><path d="m520-140 58.5 182.5L731-63M603 493l-64-224-302-8 133-156m532 277L539 269M390 382H102"/><path d="m-222 42 348.5 37.5L370 105l169 164 38.5-227.5L927 80 769 229l133 153-299 111 128 244M295-36l282.5 77.5M578 842l-283-78M40-201l87 281m-25 302-363-113"/></g><g fill="%230089b385"><circle cx="769" cy="229" r="5"/><circle cx="539" cy="269" r="5"/><circle cx="603" cy="493" r="5"/><circle cx="731" cy="737" r="5"/><circle cx="520" cy="660" r="5"/><circle cx="309" cy="538" r="5"/><circle cx="295" cy="764" r="5"/><circle cx="40" cy="599" r="5"/><circle cx="102" cy="382" r="5"/><circle cx="127" cy="80" r="5"/><circle cx="370" cy="105" r="5"/><circle cx="578" cy="42" r="5"/><circle cx="237" cy="261" r="5"/><circle cx="390" cy="382" r="5"/></g></svg>');
	background-repeat: repeat;
    background-attachment: fixed;
    background-size: cover;
} 
 :root {
    --hw-col: 44px;          /* step column width on mobile */
    --hw-gap: 12px;          /* gap between node and content (.75rem ≈ 12px) */
    --hw-line: rgba(120,130,150,.35);
    --hw-node-bg: #fff;
    --hw-node-border: rgba(120,130,150,.35);
    --hw-shadow: 0 1px 2px rgba(0,0,0,.06), 0 4px 16px rgba(0,0,0,.04);
  }

  .how-timeline {
    position: relative;
    display: grid;
    grid-template-columns: 1fr 56px 1fr; /* left | center | right */
    row-gap: 3rem;
    column-gap: 2.5rem;
    padding-block: .5rem;
  }
  /* center spine */
  .how-timeline::before {
    content: "";
    position: absolute;
    top: 0; bottom: 0;
    left: calc(50% - 1px);
    width: 2px;
    background-color: var(--base-90);
    opacity: .25;
  }

  .how-item { display: contents; } /* allows children to place on grid */

  .how-content { grid-column: 3; max-width: 40ch;margin-inline:1rem }
  .how-content.ta-right { grid-column: 1; text-align: right; justify-self: end; }
  .how-content:not(.ta-right) { text-align: left; justify-self: start; }

  .how-node {
    grid-column: 2;
    display: grid;
    place-items: center;
    position: relative;
  }
  .how-node span {
    display: inline-grid;
    place-items: center;
    width: 40px; height: 40px;
    border-radius: .6rem;
    background-color: var(--primary-base);
    color: var(--base-00);    border: 2px solid var(--hw-node-border);
    font-weight: 700;
    box-shadow: var(--hw-shadow);
  }

  /* small connector arms from node to text */
  .how-item.left .how-node::after,
  .how-item.right .how-node::after {
    content: "";
    position: absolute;
    top: 50%; transform: translateY(-50%);
    width: 40px; height: 2px;
    
    background-color: var(--base-90);
    opacity: .25; 
  }
  .how-item.left  .how-node::after { left: -40px; }
  .how-item.right .how-node::after { right: -40px; }

  /* Mobile: col1 = step numbers, col2 = content */
/* Mobile: two-column item grid — col1 = step node, col2 = content  */
/* MOBILE */
@media (max-width: 768px) {
  /* parent becomes block; spine aligned to center of the step column */
  .how-timeline{
    display:block;
    position:relative;
    /* padding-left: calc(var(--hw-col) + var(--hw-gap)); */
  }
  .how-timeline::before{
    display:block;
    left: calc(var(--hw-col) / 2);  
    width:2px;
  }

  /* each item controls its own 2-col layout so node+content stay on one row */
  .how-item{
    display:grid;
    grid-template-columns: var(--hw-col) 1fr;
    column-gap: var(--hw-gap);
    align-items:flex-start;
    margin-block: 1rem 1.25rem;
    position:relative;
  }

  /* neutralize desktop alignment differences */
  .how-content,
  .how-content.ta-right{
    grid-column:2;
    grid-row:1;
    text-align:left;
    justify-self:start;
    max-width:none;
  }

  .how-node{
    grid-column:1;
    grid-row:1;
    display:grid;
    place-items:center;
    position:relative;
  }
  .how-node span{
    width:32px;
    height:32px;
    border-radius:.6rem;
    font-weight:700;
  }

  /* IMPORTANT: override the desktop arm rules with the SAME specificity */
  .how-item.left .how-node::after,
  .how-item.right .how-node::after{
    display:none;  
  }
}

	.right-0-100{
		right: -100px;
	}


.ap-card{
  position: relative;
  display: flex;
  flex-direction: column;
  gap: .5rem;
  padding: 1rem;
  max-width: var(--sidebar-width, 360px);
  border-radius: var(--border-radius, .6rem);
  color: #0a0a0a;
  justify-content: space-between;

  /* ring via background, not a real border (prevents hairline) */
  border: 5px solid transparent;
  background-origin: border-box;
  background-clip: padding-box, border-box;

  /* default shadow/transition */
  box-shadow: var(--shadow-base, 0 1px 2px rgba(0,0,0,.06), 0 4px 16px rgba(0,0,0,.04));
  transition: transform .15s ease, box-shadow .15s ease;
}
.ap-card:hover{
  transform: translateY(-2px);
  box-shadow: var(--shadow-glow, 0 4px 18px rgba(0,0,0,.08));
}

/* shared UI bits */
.ap-head{ display:flex; align-items:center; gap:.5rem; align-items: flex-start;}
.ap-emoji{ font-size:1.25rem; line-height:1; }
.ap-list{ margin:0; padding-left:1rem; }
.ap-list li{ margin:.15rem 0; }
.ap-cta{ margin-top:.25rem; font-weight:600; text-decoration:underline; text-underline-offset:2px; }
.ap-presignal{
  display:inline-block; margin:.4rem 0 .6rem; padding:.2rem .5rem; 
  font-size:var(--font-size-base, .8rem);
  border-radius: var(--border-radius, .6rem);
  background:rgba(255,255,255,.65); border:1px solid rgba(0,0,0,.08);
  backdrop-filter:saturate(140%) blur(3px);
}

/* Gradients per classification */
.ap-card.ap-edu{
  --accent: #5faaff;
  background-image:
    linear-gradient(180deg, color-mix(in oklab, var(--accent) 35%, #fff) 0%, #fff 100%),
    linear-gradient(var(--accent), var(--accent));
}

.ap-card.ap-personal{
  --accent: #ffb8b8;
  background-image:
    linear-gradient(180deg, color-mix(in oklab, var(--accent) 35%, #fff) 0%, #fff 100%),
    linear-gradient(var(--accent), var(--accent));
}

.ap-card.ap-commercial{
  --accent: #7cf886;
  background-image:
    linear-gradient(180deg, color-mix(in oklab, var(--accent) 35%, #fff) 0%, #fff 100%),
    linear-gradient(var(--accent), var(--accent));
}



/* === Requirement card === */
.req-item{
  display: flex;
  align-items: flex-start;
  color: #000;
  gap: .75rem;
  padding: .9rem 1rem;
  border-radius: var(--border-radius, .6rem); 
  
  border: 1px solid rgba(120,130,150,.2);
  box-shadow: var(--shadow-base, 0 1px 2px rgba(0,0,0,.06), 0 4px 16px rgba(0,0,0,.04));
  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
}
.req-item:hover{
  transform: translateY(-1px);
  border-color: rgba(120,130,150,.35);
  box-shadow: var(--shadow-glow, 0 4px 18px rgba(0,0,0,.08));
}

/* Icon bubble on the left */
.req-icon{
  flex: 0 0 36px;
  width: 36px;
  height: 36px;
  border-radius: var(--border-radius, 6px);
  display: grid;
  place-items: center;
  background: #eef6ff;
  color: #0a66ff;
  font-weight: var(--font-weight-bold, 700);
  line-height: 1;
}

/* Text */
.req-body{ flex: 1 1 auto; }
.req-title{ margin: 0; font-weight: var(--font-weight-bold, 700); }
.req-desc{ margin: .15rem 0 0; font-size: var(--font-size-base, .95rem); opacity: .9; }

/* Optional color variants */
.req-item.ok  .req-icon{ background: #e9f9ee; color: #198754; }
.req-item.warn .req-icon{ background: #fff5e5; color: #b76e00; }
.req-item.info .req-icon{ background: #eef6ff; color: #0a66ff; }

/* Make the whole card clickable when used as <a class="req-item"> */
a.req-item{ text-decoration: none; color: inherit; }
a.req-item .req-title{ text-decoration: underline; text-underline-offset: 2px; }


.box{
    border: 1px solid var(--primary-lighter, #ddd);
    border-radius: var(--border-radius, 6px);
    box-shadow: var(--shadow-base);
    transition: box-shadow 0.3s, border-color 0.3s;
    padding: 1rem;
    background-color: var(--primary-lighter-x);
}
.box:hover {
    border-color: var(--primary-base);
    box-shadow: var(--shadow-glow);
}
.bg-color-warn{
    background-color: #c9fbff;
    border-color: #35eaf7ff;
}
.col-black{
    color: #000;
}

.clamp-2 {
  overflow: hidden;
  display: -webkit-box; 
  -webkit-line-clamp: 2; 
  -webkit-box-orient: vertical; 
  line-clamp: 2; 
}
.clamp-8 {
  overflow: hidden;
  display: -webkit-box; /* Required for -webkit-line-clamp */
  -webkit-line-clamp: 8; /* Limits content to 8 lines */
  -webkit-box-orient: vertical; /* Required for -webkit-line-clamp */
  line-clamp: 8; /* Standard property for line clamping */
}