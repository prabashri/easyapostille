(() => {
"use strict";(()=>{var I=Object.create;var x=Object.defineProperty;var N=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var H=Object.getPrototypeOf,B=Object.prototype.hasOwnProperty;var F=(e,t,a,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let c of D(t))!B.call(e,c)&&c!==a&&x(e,c,{get:()=>t[c],enumerable:!(s=N(t,c))||s.enumerable});return e};var P=(e,t,a)=>(a=e!=null?I(H(e)):{},F(t||!e||!e.__esModule?x(a,"default",{value:e,enumerable:!0}):a,e));let k=null,T=null;async function R(){if(k)return{fuse:k,data:T};window.Fuse||await import("/vendor/fuse.min.js?v=7.1.0");try{const e=document.currentScript||[...document.querySelectorAll('script[type="module"]')].find(s=>s.dataset.searchIndex);if(!e)throw new Error("No <script> with data-search-index found.");const t=e.dataset.searchIndex;if(!t)throw new Error("Missing data-search-index attribute.");const a=await fetch(t,{cache:"no-cache"});if(!a.ok)throw new Error(`HTTP ${a.status}`);return T=await a.json(),k=new Fuse(T,{keys:["title","description","content","tags"],threshold:.2,ignoreLocation:!0,includeMatches:!0,minMatchCharLength:2,useExtendedSearch:!0}),{fuse:k,data:T}}catch(e){return console.error("\u274C Failed to initialize search index:",e),{fuse:null,data:[]}}}function S(e,t=[]){const a=document.createDocumentFragment();let s=0;for(const[c,r]of t){c>s&&a.appendChild(document.createTextNode(e.slice(s,c)));const o=document.createElement("mark");o.textContent=e.slice(c,r+1),a.appendChild(o),s=r+1}return s<e.length&&a.appendChild(document.createTextNode(e.slice(s))),a}function M(e,t){const a=t.toLowerCase(),c=e.toLowerCase().indexOf(a);if(c===-1)return null;const r=e.split(/\s+/);let o=0,E=0;for(let i=0;i<r.length;i++)if(E+=r[i].length+1,E>c){o=i;break}const l=3,m=r.slice(Math.max(0,o-l),o).join(" "),p=r[o]||t,g=r.slice(o+1,o+1+l).join(" "),n=document.createElement("span");n.className="result-snippet",n.textContent=`... ${m} `;const d=document.createElement("mark");return d.textContent=p,n.appendChild(d),n.append(` ${g} ...`),n}function j(e){const t=document.getElementById("search-modal"),a=t==null?void 0:t.querySelector(".search-modal-content"),s=document.getElementById("search-modal-input"),c=document.getElementById("global-search-button"),r=document.getElementById("close-search-modal"),o=document.getElementById("search-modal-results");if(!t||!s||!o||!c||!a)return;let E=()=>{};function l(n){function d(i){if(i.key!=="Tab")return;const h=n.querySelectorAll('a[href], button:not([disabled]), input, textarea, select, [tabindex]:not([tabindex="-1"])');if(!h.length)return;const u=h[0],C=h[h.length-1];i.shiftKey&&document.activeElement===u?(i.preventDefault(),C.focus()):!i.shiftKey&&document.activeElement===C&&(i.preventDefault(),u.focus())}return n.addEventListener("keydown",d),()=>n.removeEventListener("keydown",d)}function m(n){var i,h;if(o.innerHTML="",!e||n.length<2)return;const d=e.search(n);if(!d.length){o.innerHTML="<li>No results found</li>";return}for(const{item:u,matches:C}of d.slice(0,10)){const y=document.createElement("li"),f=document.createElement("a");f.href=u.url;const w=Object.fromEntries(C.map(L=>[L.key,L])),v=document.createElement("span");v.className="result-title";const b=(i=w.title)==null?void 0:i.indices;if(b!=null&&b.length?v.appendChild(S(u.title,b)):v.textContent=u.title,f.appendChild(v),f.appendChild(document.createElement("br")),(h=w.content)!=null&&h.value){const L=M(u.content,n);L&&f.appendChild(L)}y.appendChild(f),o.appendChild(y)}}function p(){t.classList.remove("display-none"),t.setAttribute("aria-hidden","false"),s.focus(),E=l(a)}function g(){s.blur(),t.classList.add("display-none"),t.setAttribute("aria-hidden","true"),s.value="",o.innerHTML="",E(),setTimeout(()=>c.focus(),50)}c==null||c.addEventListener("click",n=>{n.preventDefault(),p()}),r==null||r.addEventListener("click",n=>{n.preventDefault(),g()}),document.addEventListener("mousedown",n=>{!t.classList.contains("display-none")&&!a.contains(n.target)&&g()}),document.addEventListener("keydown",n=>{n.key==="Escape"&&!t.classList.contains("display-none")&&(n.preventDefault(),g()),(n.metaKey||n.ctrlKey)&&n.key.toLowerCase()==="k"&&(n.preventDefault(),p())}),s.addEventListener("input",()=>m(s.value.trim()))}function A(e){const t=document.getElementById("search-input"),a=document.getElementById("search-results");if(!t||!a)return;const c=new URLSearchParams(window.location.search).get("q")||"";let r;function o(l,m){var g,n;if(a.innerHTML="",!l||l.length===0){a.innerHTML=`<p>No results found for <strong>"${m}"</strong>.</p>`;return}const p=document.createElement("ul");p.className="search-results";for(const{item:d,matches:i}of l.slice(0,20)){const h=document.createElement("li"),u=document.createElement("a");u.href=d.url;const C=Object.fromEntries(i.map(w=>[w.key,w])),y=document.createElement("span");y.className="result-title";const f=(g=C.title)==null?void 0:g.indices;if(f!=null&&f.length?y.appendChild(S(d.title,f)):y.textContent=d.title,u.appendChild(y),u.appendChild(document.createElement("br")),(n=C.content)!=null&&n.value){const w=M(d.content||d.description||"",m);w&&u.appendChild(w)}h.appendChild(u),p.appendChild(h)}a.appendChild(p)}function E(l){if(!e||l.length<2){a.innerHTML="";return}const m=e.search(l);o(m,l)}t.addEventListener("input",l=>{const m=l.target.value.trim();clearTimeout(r),r=setTimeout(()=>{E(m);const p=new URL(window.location.href);m?p.searchParams.set("q",m):p.searchParams.delete("q"),window.history.replaceState({},"",p.toString())},250)}),c&&(t.value=c,E(c))}(async()=>{const{fuse:e}=await R();e&&(j(e),A(e))})();})();
})();
